
> 본 문서는 김영한님의 [인프런 HTTP 강의](https://www.inflearn.com/course/http-%EC%9B%B9-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/)를 정리한 내용입니다.

## 1. 모든 것이 HTTP (HyperText Transfer Profocol)
- HTTP 메시지에 모든 것을 전송함 (1.1 버전 : 가장 많이 사용하고, 우리에게 가장 중요한 버전)

### HTTP의 특징
- 클라이언트 서버 구조
- 무상태 프로토콜(스테이스리스), 비연결성
- HTTP 메시지
- 단순하고 확장 가능함

## 2. 클라이언트 서버 구조
- Request Response 구조
- 클라이언트는 서버에 요청을 보내고, 응답을 대기
- 서버가 요청에 대한 결과를 만들어서 응답
- 비즈니스 로직이나 데이터는 서버에, 클라이언트에선 UI 렌더링 등에 집중
- 클라이언트와 서버로 구조를 분리함으로써, 각 영역의 독자적인 발전이 가능

## 3. Stateful, Stateless

### 무상태 프로토콜(Stateless)
- 서버가 클라이언트의 상태를 보존 X
- 장점: 서버 확장성 높음(스케일 아웃)
- 단점: 클라이언트가 추가 데이터 전송

### Stateful(상태 유지), Stateless의 차이
- Stateful
  - 중간에 다른 점원으로 바뀌면 안됨
  - 만약 다른 점원으로 바뀐다면, 상태 정보를 미리 넘겨줘야 함
  - 클라이언트가 한 서버랑만 소통해야 함 (만약 그 서버가 장애나면? 처음부터 다시... )
- Stateless
  - 중간에 다른 점원으로 바뀌어도 됨
  - 갑자기 고객이 증가해도 점원을 대거 투입할 수 있음
  - 갑자기 클라이언트 요청이 증가해도 서버를 대거 투입할 수 있음
  - 즉, Stateless는 응답 서버를 쉽게 바꿀 수 있어, **무한한 서버 증설이 가능**함
  - 클라이언트가 아무 서버나 호출해도 상관없음!

### Stateless의 실무적 한계
- 모든 것을 무상태로 설계할 수 있는 것은 아님
- 무상태: 예) 로그인이 필요없는 단순한 서비스 소개 화면
- 상태유지: 예) 로그인
  - 로그인한 사용자의 경우, 로그인 했다는 상태를 서버에 유지
  - 일반적으로 브라우저 쿠키와 서버 세션등을 사용해서 상태 유지
  - 상태 유지는 최소한만 사용
  
## 4. 비연결성 (Connectionless)
- HTTP는 기본적으로 연결을 유지아지 않는 모델임
- 일반적으로 초 단위 이하의 빠른 속도로 응답
- 수천명이 서비스를 사용해도 실제 서버에서 동시에 처리하는 요청은 그리 많지 않게됨
- 서버 자원을 매우 효율적으로 사용할 수 있음
  
### 비연결셩의 한계와 극복
- TCP/IP 연결을 매번 새로 맺어야 함 (3 way handshake 시간 추가)
- 웹 브라우저로 사이트를 요청하면 HTML 뿐 아니라 js, img등 수 많은 자원이 함께 다운로드
- 지금은 HTTP 지속 연결(Persistent Connections)로 문제 해결

## 5. HTTP 메시지

### 전체 구조
- start line
- header
- CRLF(공백)
- message body
  
### 1. Start line
- **요청 메시지**
  1. HTTP 메서드
     - 종류: GET, POST, PUT, DELETE
     - 서버가 수행해야 할 동작 지정
  2. 요청 대상
     - absolute-path[?query] (절대경로[?쿼리])
     - 절대경로: "/"로 시작하는 경로
  3. HTTP 버전

- **응답 메시지**
    1. HTTP 버전
    2.  HTTP 상태 코드 : 요청 성공, 실패를 나타냄
    3. 이유 문구 : 사람이 이해할 수 있는 짧은 상태 코드 설명 글

### 2. header
- HTTP 전송에 필요한 모든 부가정보
- 예) message body의 내용, 크기, 압축, 인증, 요청 정보, 캐시 정보 등

### 3. message body
- 실제 전송할 데이터 